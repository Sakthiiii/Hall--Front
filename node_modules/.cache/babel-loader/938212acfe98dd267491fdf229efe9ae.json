{"ast":null,"code":"import _defineProperty from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/ELCOT/Desktop/HallBooking/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import{Button,Form}from\"react-bootstrap\";import{withRouter}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_URL=\"https://hall-bookng.herokuapp.com/rooms\";var BookRoom=/*#__PURE__*/function(_React$Component){_inherits(BookRoom,_React$Component);var _super=_createSuper(BookRoom);function BookRoom(){var _this;_classCallCheck(this,BookRoom);_this=_super.call(this);_this.componentDidMount=function(){return _this.getRooms();};_this.getRooms=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(API_URL);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;_this.setState({rooms:data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));_this.BookRoom=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,name,customer,date,id,rooms,config;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,name=_this$state.name,customer=_this$state.customer,date=_this$state.date,id=_this$state.id,rooms=_this$state.rooms;console.log(id,date);config={method:\"put\",url:\"\".concat(API_URL,\"/\").concat(id),headers:{\"Content-Type\":\"application/json\"},data:JSON.stringify({name:name,customer:customer,date:date,id:id})};axios(config).then(function(response){console.log(JSON.stringify(response.data));if(!response.data.error)_this.props.history.push(\"/rooms\");else alert(response.data.error);}).catch(function(error){console.log(error);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.selectRoom=function(room){return _this.setState({id:room.id,name:room.name,customer:room.customer});};_this.handleChange=function(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();_this.BookRoom();};_this.state={rooms:[],name:\"\",customer:\"\",date:\"\",id:null};return _this;}_createClass(BookRoom,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select room\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Name : \"}),\" \",/*#__PURE__*/_jsx(\"input\",{disabled:true,required:true,type:\"text\",name:\"name\",placeholder:\"choose room\",value:this.state.name,onChange:this.handleChange}),\" \",/*#__PURE__*/_jsx(\"label\",{children:\" ID : \"}),\" \",/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"number\",name:\"id\",placeholder:\"choose room\",value:this.state.id,onChange:this.handleChange}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\" Customer : \"}),\" \",/*#__PURE__*/_jsx(\"input\",{disabled:true,required:true,type:\"text\",name:\"customer\",placeholder:\"choose room\",value:this.state.customer,onChange:this.handleChange}),\" \",/*#__PURE__*/_jsx(\"label\",{children:\" Date : \"}),\" \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"date\",value:this.state.date,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),this.state.rooms.map(function(room){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){_this2.selectRoom(room);},children:room.name})}),/*#__PURE__*/_jsx(\"br\",{})]});}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"Submit\"})]}),\" \"]});}}]);return BookRoom;}(React.Component);export default withRouter(BookRoom);","map":{"version":3,"sources":["C:/Users/ELCOT/Desktop/HallBooking/Frontend/src/BookRoom.js"],"names":["React","axios","Button","Form","withRouter","API_URL","BookRoom","componentDidMount","getRooms","get","data","setState","rooms","console","error","state","name","customer","date","id","log","config","method","url","headers","JSON","stringify","then","response","props","history","push","alert","catch","selectRoom","room","handleChange","target","value","handleSubmit","e","preventDefault","map","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst API_URL = \"https://hall-bookng.herokuapp.com/rooms\";\r\n\r\nclass BookRoom extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      rooms: [],\r\n      name: \"\",\r\n      customer: \"\",\r\n      date: \"\",\r\n      id: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => this.getRooms();\r\n\r\n  getRooms = async () => {\r\n    try {\r\n      const { data } = await axios.get(API_URL);\r\n      this.setState({ rooms: data });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  BookRoom = async () => {\r\n    const { name, customer, date, id, rooms } = this.state;\r\n    console.log(id, date);\r\n\r\n    var config = {\r\n      method: \"put\",\r\n      url: `${API_URL}/${id}`,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify({\r\n        name,\r\n        customer,\r\n        date,\r\n        id,\r\n      }),\r\n    };\r\n\r\n    axios(config)\r\n      .then((response) => {\r\n        console.log(JSON.stringify(response.data));\r\n        if (!response.data.error) this.props.history.push(\"/rooms\");\r\n        else alert(response.data.error);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  selectRoom = (room) =>\r\n    this.setState({ id: room.id, name: room.name, customer: room.customer });\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.BookRoom();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <h3>Select room</h3>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <label> Name : </label>{\" \"}\r\n          <input\r\n            disabled\r\n            required\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"choose room\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />{\" \"}\r\n          <label> ID : </label>{\" \"}\r\n          <input\r\n            disabled\r\n            type=\"number\"\r\n            name=\"id\"\r\n            placeholder=\"choose room\"\r\n            value={this.state.id}\r\n            onChange={this.handleChange}\r\n          />{\" \"}\r\n          <br /> <br />\r\n          <label> Customer : </label>{\" \"}\r\n          <input\r\n            disabled\r\n            required\r\n            type=\"text\"\r\n            name=\"customer\"\r\n            placeholder=\"choose room\"\r\n            value={this.state.customer}\r\n            onChange={this.handleChange}\r\n          />{\" \"}\r\n          <label> Date : </label>{\" \"}\r\n          <input\r\n            required\r\n            type=\"text\"\r\n            name=\"date\"\r\n            value={this.state.date}\r\n            onChange={this.handleChange}\r\n          />\r\n          <br />\r\n          <br />\r\n          {this.state.rooms.map((room) => {\r\n            return (\r\n              <>\r\n                <li>\r\n                  <Button\r\n                    onClick={() => {\r\n                      this.selectRoom(room);\r\n                    }}\r\n                  >\r\n                    {room.name}\r\n                  </Button>\r\n                </li>\r\n                <br />\r\n              </>\r\n            );\r\n          })}\r\n          <br />\r\n          <input type=\"Submit\" />\r\n        </Form>{\" \"}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(BookRoom);\r\n"]},"metadata":{},"sourceType":"module"}