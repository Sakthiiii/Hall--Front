(this["webpackJsonphall-booking"]=this["webpackJsonphall-booking"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),s=n.n(c),o=(n(54),n(55),n.p+"static/media/4f0a0372_15_257521-1568714218.71b3489e.jpeg"),i=n(1);function j(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Welcome!"}),Object(i.jsx)("img",{style:{margin:"auto"},src:o})]})}var h=n(8),l=n.n(h),b=n(13),d=n(16),u=n(17),m=n(20),O=n(19),x=n(14),p=n.n(x),f=n(86),g=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).componentDidMount=function(){return e.getRooms()},e.getRooms=Object(b.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("https://hall-bookng.herokuapp.com/rooms");case 3:n=t.sent,r=n.data,e.setState({rooms:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.viewToggle=function(){e.setState({view:!e.state.view})},e.state={rooms:[],view:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[" ",Object(i.jsxs)(f.a,{striped:!0,bordered:!0,hover:!0,className:"table ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"#"}),Object(i.jsx)("th",{children:"Room"}),Object(i.jsx)("th",{children:"Customer"}),Object(i.jsx)("th",{children:"Date"}),Object(i.jsx)("th",{children:"Start"}),Object(i.jsx)("th",{children:"Seats"})]})}),Object(i.jsx)("tbody",{children:this.state.rooms.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.id}),Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.customer}),Object(i.jsx)("td",{children:e.date.map((function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:e})})})}))}),Object(i.jsxs)("td",{children:[e.start," - ",e.end]}),Object(i.jsx)("td",{children:e.seats})]},e.id)}))})]})]})}}]),n}(a.a.Component),v=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).componentDidMount=function(){return e.getCustomers()},e.getCustomers=Object(b.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("https://hall-bookng.herokuapp.com/customers");case 3:n=t.sent,r=n.data,e.setState({customers:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.state={customers:[],view:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[" ",Object(i.jsxs)(f.a,{striped:!0,bordered:!0,hover:!0,className:"table ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"#"}),Object(i.jsx)("th",{children:"Name"}),Object(i.jsx)("th",{children:"Room"}),Object(i.jsx)("th",{children:"Date"}),Object(i.jsx)("th",{children:"Time"})]})}),Object(i.jsx)("tbody",{children:this.state.customers.map((function(e,t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t}),Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.room}),Object(i.jsx)("td",{children:e.date.map((function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:e})})})}))}),Object(i.jsxs)("td",{children:[e.start," - ",e.end]})]})}))})]})]})}}]),n}(a.a.Component),k=n(89),C=n(87),S=n(91),y=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(k.a,{collapseOnSelect:!0,fixed:"left",bg:"dark",expand:"lg",variant:"dark",children:Object(i.jsxs)(C.a,{children:[Object(i.jsx)(k.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(i.jsx)(k.a.Collapse,{id:"responsive-navbar-nav",children:Object(i.jsxs)(S.a,{children:[Object(i.jsx)(S.a.Link,{href:"/Home",children:"Home"}),Object(i.jsx)(S.a.Link,{href:"/rooms",children:"Rooms"}),Object(i.jsx)(S.a.Link,{href:"/customers",children:"Customers"}),Object(i.jsx)(S.a.Link,{href:"/createroom",children:"Create Room"}),Object(i.jsx)(S.a.Link,{href:"/bookroom",children:"Book Room"})]})})]})})})},w=(n(80),n(25)),R=n(6),N=n(27),D=n(90),F=n(88),J="https://hall-bookng.herokuapp.com/rooms",T=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).componentDidMount=function(){return e.getRooms()},e.getRooms=Object(b.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get(J);case 3:n=t.sent,r=n.data,e.setState({rooms:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.BookRoom=Object(b.a)(l.a.mark((function t(){var n,r,a,c,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.name,a=n.customer,c=n.date,s=n.id,n.rooms,console.log(s,c),o={method:"put",url:"".concat(J,"/").concat(s),headers:{"Content-Type":"application/json"},data:JSON.stringify({name:r,customer:a,date:c,id:s})},p()(o).then((function(t){console.log(JSON.stringify(t.data)),t.data.error?alert(t.data.error):e.props.history.push("/rooms")})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.selectRoom=function(t){return e.setState({id:t.id,name:t.name,customer:t.customer})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(N.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault(),e.BookRoom()},e.state={rooms:[],name:"",customer:"",date:"",id:null},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Select room"}),Object(i.jsxs)(D.a,{onSubmit:this.handleSubmit,children:[Object(i.jsx)("label",{children:" Name : "})," ",Object(i.jsx)("input",{disabled:!0,required:!0,type:"text",name:"name",placeholder:"choose room",value:this.state.name,onChange:this.handleChange})," ",Object(i.jsx)("label",{children:" ID : "})," ",Object(i.jsx)("input",{disabled:!0,type:"number",name:"id",placeholder:"choose room",value:this.state.id,onChange:this.handleChange})," ",Object(i.jsx)("br",{})," ",Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:" Customer : "})," ",Object(i.jsx)("input",{disabled:!0,required:!0,type:"text",name:"customer",placeholder:"choose room",value:this.state.customer,onChange:this.handleChange})," ",Object(i.jsx)("label",{children:" Date : "})," ",Object(i.jsx)("input",{required:!0,type:"text",name:"date",value:this.state.date,onChange:this.handleChange}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),this.state.rooms.map((function(t){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("li",{children:Object(i.jsx)(F.a,{onClick:function(){e.selectRoom(t)},children:t.name})}),Object(i.jsx)("br",{})]})})),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"Submit"})]})," "]})}}]),n}(a.a.Component),q=Object(R.g)(T),B="https://hall-bookng.herokuapp.com/rooms",L=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).componentDidMount=function(){return e.getRooms()},e.getRooms=Object(b.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get(B);case 3:n=t.sent,r=n.data,e.setState({rooms:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.createRoom=Object(b.a)(l.a.mark((function t(){var n,r,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.name,a=n.seats,c={method:"post",url:B,headers:{"Content-Type":"application/json"},data:JSON.stringify({name:r,seats:a})},p()(c).then((function(t){console.log(JSON.stringify(t.data)),e.props.history.push("/rooms")})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(N.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault(),e.state.rooms.forEach((function(t){t.name==e.state.name&&e.setState({view:!1})})),e.state.view?e.createRoom():e.setState({message:"Room name already exists"})},e.state={rooms:[],name:"",seats:"",view:!0,message:""},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"To add a new room enter the details: "}),Object(i.jsxs)(D.a,{onSubmit:this.handleSubmit,children:[Object(i.jsx)("label",{children:" Name : "})," ",Object(i.jsx)("input",{required:!0,type:"text",name:"name",value:this.state.name,onChange:this.handleChange})," ",this.state.view?"":Object(i.jsx)("span",{children:this.state.message}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})," ",Object(i.jsx)("label",{children:" Seats : "})," ",Object(i.jsx)("input",{required:!0,type:"number",name:"seats",value:this.state.seats,onChange:this.handleChange}),Object(i.jsx)("br",{})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"Submit"})]})," "]})}}]),n}(a.a.Component),M=Object(R.g)(L);var H=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("header",{className:"App-header",children:Object(i.jsx)("h1",{children:"Hall Booking"})}),Object(i.jsxs)(w.a,{children:[Object(i.jsx)(y,{})," ",Object(i.jsxs)(R.d,{children:[Object(i.jsx)(R.b,{exact:!0,path:"/home",render:function(){return Object(i.jsx)(j,{})}}),Object(i.jsx)(R.b,{path:"/rooms",render:function(){return Object(i.jsx)(g,{})}}),Object(i.jsx)(R.b,{path:"/customers",render:function(){return Object(i.jsx)(v,{})}}),Object(i.jsx)(R.b,{path:"/createroom",render:function(){return Object(i.jsx)(M,{})}}),Object(i.jsx)(R.b,{path:"/bookroom",render:function(){return Object(i.jsx)(q,{})}}),Object(i.jsx)(R.b,{path:"/",children:Object(i.jsx)(R.a,{to:"/home"})})]})]})]})};s.a.render(Object(i.jsx)(H,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.fbc4d7d7.chunk.js.map